:root {
    --bg: #020617;
    --card: #0f172a;
    --border: #1e293b;
    --text: #f8fafc;
    --accent-red: #ff4d4d;
    --red-glow: rgba(255, 77, 77, 0.4);
}

body {
    margin: 0; background: var(--bg); color: var(--text);
    font-family: 'Plus Jakarta Sans', sans-serif;
    display: flex; justify-content: center; align-items: flex-start;
    min-height: 100vh; padding: 20px;
}

.calendar-card {
    width: 100%; max-width: 900px;
    background: var(--card); border-radius: 24px;
    border: 1px solid var(--border); padding: 20px;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
}

.cal-nav {
    display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;
}

.weekday-header {
    display: grid; grid-template-columns: repeat(7, 1fr);
    text-align: center; font-size: 0.75rem; font-weight: 800;
    text-transform: uppercase; color: #64748b; margin-bottom: 10px;
}

.days-grid {
    display: grid; grid-template-columns: repeat(7, 1fr);
    gap: 8px;
}

.day-cell {
    min-height: 100px; background: rgba(255,255,255,0.02);
    border: 1px solid var(--border); border-radius: 12px;
    padding: 8px; cursor: pointer; transition: all 0.2s;
    display: flex; flex-direction: column; gap: 4px;
}

.day-cell:hover { background: rgba(255,255,255,0.05); transform: translateY(-2px); }

/* THE RED MARKER: For days with events */
.day-cell.has-events {
    border-color: var(--accent-red);
    box-shadow: inset 0 0 10px var(--red-glow);
}
.day-cell.has-events .date-num { color: var(--accent-red); }

.date-num { font-weight: 800; font-size: 1rem; margin-bottom: 4px; }

/* IN-CELL EVENT LIST */
.cell-events { display: flex; flex-direction: column; gap: 2px; }
.event-item {
    font-size: 0.65rem; background: var(--border);
    padding: 2px 6px; border-radius: 4px;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* SIDE PANEL (Nicer than a modal) */
.side-panel {
    position: fixed; right: -400px; top: 0; bottom: 0; width: 350px;
    background: var(--card); border-left: 1px solid var(--border);
    padding: 30px; transition: right 0.3s ease; z-index: 100;
}
.side-panel.open { right: 0; }
textarea { width: 100%; height: 100px; background: #020617; color: white; border: 1px solid var(--border); border-radius: 8px; padding: 10px; margin: 15px 0; }
#addBtn { width: 100%; background: var(--accent-red); color: white; border: none; padding: 12px; border-radius: 8px; font-weight: 700; cursor: pointer; }

@media (max-width: 700px) {
    .day-cell { min-height: 80px; padding: 4px; }
    .event-item { font-size: 0.55rem; }
}

/* Color Picker Styling */
.color-picker { margin: 15px 0; }
.color-picker label { font-size: 0.8rem; color: var(--text-secondary); }
.color-options { display: flex; gap: 10px; margin-top: 8px; }

.color-options input { display: none; }
.color-options label {
    width: 24px; height: 24px; border-radius: 50%;
    cursor: pointer; border: 2px solid transparent;
    transition: transform 0.2s;
}
.color-options input:checked + label {
    border-color: white; transform: scale(1.2);
}

/* Dynamic Event Pill */
.event-item {
    font-size: 0.65rem;
    padding: 2px 6px;
    border-radius: 4px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    color: #fff; /* White text for contrast */
    text-shadow: 0 1px 2px rgba(0,0,0,0.3);
}